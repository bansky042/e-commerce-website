<%- include("partials/header2.ejs") %>

<div class="container my-5">
  <h2 class="mb-4 fw-bold">Add New Product</h2>
  <form action="/admin/products" method="POST" enctype="multipart/form-data">
    <div class="row">
      <!-- Category Selection -->
      <div class="col-md-6 mb-3">
        <label class="form-label">Main Category</label>
        <select name="first_category" id="first_category" class="form-select" required>
          <option value="">Select Main Category</option>
          <option value="Fashion">Fashion</option>
          <option value="Electronics">Electronics</option>
          <option value="Health & Beauty">Health & Beauty</option>
          <option value="Home & Kitchen">Home & Kitchen</option>
          <option value="Sports & Outdoors">Sports & Outdoors</option>
          <option value="Automobiles & Accessories">Automobiles & Accessories</option>
          <option value="Toys, Kids & Babies">Toys, Kids & Babies</option>
          <option value="Groceries">Groceries</option>
          <option value="Art & Stationery">Art & Stationery</option>
          <option value="Mobile Accessories">Mobile Accessories</option>
        </select>
      </div>

      <div class="col-md-6 mb-3">
        <label class="form-label">Sub Category</label>
        <select name="second_category" id="second_category" class="form-select" required>
          <option value="">Select Sub Category</option>
        </select>
      </div>

      <!-- Basic Info -->
      <div class="col-md-6 mb-3">
        <label class="form-label">Product Name</label>
        <input type="text" name="name" class="form-control" required>
      </div>

      <div class="col-md-3 mb-3">
        <label class="form-label">Price (â‚¦)</label>
        <input type="number" step="0.01" name="price" class="form-control" required>
      </div>

      <div class="col-md-3 mb-3">
        <label class="form-label">Stock</label>
        <input type="number" name="stock" class="form-control" min="1" required>
      </div>

      <div class="col-md-12 mb-3">
        <label class="form-label">Short Description</label>
        <textarea name="short_description" class="form-control" rows="2" placeholder="Brief description..."></textarea>
      </div>

      <div class="col-md-12 mb-3">
        <label class="form-label">Full Description</label>
        <textarea name="description" class="form-control" rows="4" placeholder="Detailed description..."></textarea>
      </div>

      <!-- Dynamic Lists -->
      <div class="col-md-12 mb-3">
        <label class="form-label">Key Features (comma separated)</label>
        <input type="text" name="key_features" class="form-control" placeholder="e.g. Long battery life, 128GB storage">
      </div>

      <div class="col-md-12 mb-3">
        <label class="form-label">Specifications (comma separated)</label>
        <input type="text" name="specifications" class="form-control" placeholder="e.g. Android 13, 6GB RAM">
      </div>

      <div class="col-md-12 mb-3">
        <label class="form-label">What's in the Box (comma separated)</label>
        <input type="text" name="in_the_box" class="form-control" placeholder="e.g. Phone, Charger, User Manual">
      </div>

      <!-- Image Upload -->
      <div class="col-md-12 mb-4">
        <label class="form-label">Product Image</label>
        <input type="file" name="image" class="form-control" accept="image/*" required>
      </div>

      <!-- Submit Button -->
      <div class="col-md-12 text-end">
        <button type="submit" class="btn btn-primary px-4">Add Product</button>
      </div>
    </div>
  </form>
</div>

<!-- Subcategory Dynamic Script -->
<script>
  const subCategories = {
    "Fashion": ["Men's Clothing", "Women's Clothing", "Kids' Wear", "Shoes", "Bags & Accessories", "Lingerie & Sleepwear", "Watches & Jewelry", "Eyewear"],
    "Electronics": ["Mobile Phones", "Laptops", "Televisions", "Cameras", "Headphones & Earbuds", "Gaming Consoles", "Smartwatches", "Tablets"],
    "Health & Beauty": ["Skincare", "Haircare", "Makeup", "Fragrances", "Personal Care Tools", "Men's Grooming", "Supplements & Vitamins", "Oral Care"],
    "Home & Kitchen": ["Cookware", "Bedding & Linens", "Small Appliances", "Furniture", "Home Decor", "Storage & Organization", "Lighting", "Cleaning Supplies"],
    "Sports & Outdoors": ["Fitness Equipment", "Activewear", "Camping Gear", "Bicycles & Accessories", "Outdoor Games", "Water Bottles", "Footwear", "Yoga Mats"],
    "Automobiles & Accessories": ["Car Electronics", "Interior Accessories", "Exterior Accessories", "Motorbike Accessories", "Car Care", "Replacement Parts", "Tires & Wheels", "Tools & Equipment"],
    "Toys, Kids & Babies": ["Action Figures", "Dolls & Plush", "Educational Toys", "Baby Gear", "Feeding Essentials", "Baby Clothing", "Outdoor Play", "Puzzles & Games"],
    "Groceries": ["Beverages", "Snacks", "Canned Goods", "Dairy", "Breakfast Foods", "Baking Supplies", "Spices & Condiments", "Fresh Produce"],
    "Art & Stationery": ["Drawing Supplies", "Craft Supplies", "Office Stationery", "Notebooks", "Educational Materials", "Art Prints", "Pens & Pencils", "Coloring Books"],
    "Mobile Accessories": ["Phone Cases", "Screen Protectors", "Power Banks", "Chargers", "Bluetooth Headsets", "Phone Holders", "Memory Cards", "Selfie Sticks"]
  };

  document.getElementById("first_category").addEventListener("change", function () {
    const subCategorySelect = document.getElementById("second_category");
    const selectedMain = this.value;
    const options = subCategories[selectedMain] || [];

    subCategorySelect.innerHTML = `<option value="">Select Sub Category</option>`;
    options.forEach(sub => {
      const option = document.createElement("option");
      option.value = sub;
      option.textContent = sub;
      subCategorySelect.appendChild(option);
    });
  });
</script>


